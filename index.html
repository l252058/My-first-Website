-- 25L-2058.sql
-- Lab Manual Lab 7 - DDL & DML
-- FAST NUCES Lahore

CREATE DATABASE LAB_07;
USE LAB_07;

CREATE TABLE Student_Table4 
(
    RollNum VARCHAR(25) PRIMARY KEY,
    Name NVARCHAR(25) NOT NULL,
    Gender NVARCHAR(25),
    Phone NVARCHAR(25)
);

INSERT INTO Student_Table4 VALUES
('L230844', 'Ahmed Muaz', 'Male', '0333-3333333'),
('L124147', 'Kalsoom', 'Female', '0333-3456789'),
('L230654', 'Sabih Ud Din', 'Male', '0345-3243567');

CREATE TABLE Teacher_Table4
(
    Id INT PRIMARY KEY,
    Name NVARCHAR(25) NOT NULL,
    Designation NVARCHAR(25),
    Department NVARCHAR(25)
);

INSERT INTO Teacher_Table4 VALUES
(1, 'Dr. Zeeshan Ali Rana', 'Assistant Prof.', 'Software Engineering'),
(2, 'Mr. Zeeshan Nazar', 'Lecturer', 'Data Science'),
(3, 'Mamoona Majid', 'Lecturer', 'Computer Science');

CREATE TABLE ClassVenue_Table 
(
    Id INT PRIMARY KEY,
    Building NVARCHAR(25),
    RoomNum INT,
    TeacherId INT FOREIGN KEY REFERENCES Teacher_Table4(Id)
);

INSERT INTO ClassVenue_Table VALUES
(1, 'CS', 2, 1),
(2, 'Civil', 7, 2);

CREATE TABLE Attendance_Table4
(
    RollNum VARCHAR(25) FOREIGN KEY REFERENCES Student_Table4(RollNum),
    ClassDate DATE,
    Status CHAR(1),
    VenueId INT FOREIGN KEY REFERENCES ClassVenue_Table(Id),
    PRIMARY KEY (RollNum, ClassDate)
);

INSERT INTO Attendance_Table4 VALUES
('L230844', '2016-02-22', 'P', 2),
('L124147', '2016-02-23', 'A', 1),
('L230654', '2016-03-04', 'P', 2);

INSERT INTO Student_Table4 VALUES ('L162334', 'Fozan Shahid', 'Male', '0333-9999999');

INSERT INTO ClassVenue_Table VALUES (3, 'CS', 5, 1);

UPDATE Teacher_Table4
SET Name = 'Ms. Mamoona Majid'
WHERE Name = 'Mamoona Majid';

DELETE FROM Student_Table4 WHERE RollNum = 'L162334';

INSERT INTO Student_Table4 VALUES ('L164123', 'Ali Raza', 'Male', '0333-8888888');
DELETE FROM Student_Table4 WHERE RollNum = 'L164123';

INSERT INTO Attendance_Table4 VALUES ('L164124', '2016-03-05', 'A', 1);
DELETE FROM Attendance_Table4 WHERE RollNum = 'L164124' AND Status = 'A';

SELECT Name FROM Student_Table4
WHERE Gender = 'Male' AND Phone LIKE '03%';

SELECT Name FROM Teacher_Table4
WHERE Department = 'Computer Science' OR Designation = 'Professor';

SELECT * FROM Student_Table4
WHERE Gender <> 'Female';

SELECT Name FROM Teacher_Table4
WHERE Designation = 'Assistant Prof.' AND Department <> 'Mathematics';

SELECT * FROM Student_Table4
WHERE RollNum > '1000' OR Name LIKE 'A%';

